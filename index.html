<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Climix</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:system-ui;
  display:flex;
  justify-content:center;
}

.app{
  width:100%;
  max-width:420px;
  padding:16px;
}

.card{
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(18px);
  border-radius:22px;
  padding:18px;
  margin-bottom:16px;
}

.temp{
  font-size:4.8rem;
  font-weight:800;
}

.place{
  font-size:1.6rem;
  opacity:.9;
}

h3{
  font-size:1.55rem;
  margin:0 0 10px;
}

.item{
  background:rgba(0,0,0,.35);
  padding:14px;
  border-radius:14px;
  margin-bottom:8px;
  font-size:1.25rem;
}

input,button{
  width:100%;
  padding:16px;
  font-size:1.25rem;
  border-radius:16px;
  border:none;
}

button{margin-top:10px}

.footer{
  text-align:center;
  opacity:.7;
}
</style>
</head>

<body>
<div class="app">

<div class="card">
  <input id="city" placeholder="Enter city">
  <button onclick="search()">Search</button>
</div>

<div class="card">
  <div class="temp" id="temp">--Â°C</div>
  <div class="place" id="place">Loadingâ€¦</div>
</div>

<div class="card">
  <h3>ğŸ“ Location Conditions</h3>
  <div id="conditions"></div>
</div>

<div class="card">
  <h3>â±ï¸ Hourly (Next 24h)</h3>
  <div id="hourly"></div>
</div>

<div class="card">
  <h3>ğŸ“† 7-Day Forecast</h3>
  <div id="daily"></div>
</div>

<div class="card">
  <h3>ğŸŒ«ï¸ AQI Details</h3>
  <div id="aqi"></div>
</div>

<div class="card footer">
  Â© Manik Roy 2025. All Rights Reserved.
</div>

</div>

<script>
async function getJSON(url){
  try{
    const r=await fetch(url);
    if(!r.ok) throw 0;
    return await r.json();
  }catch{
    return null;
  }
}

async function search(){
  const name=city.value.trim();
  if(!name) return;

  const geo=await getJSON(
    "https://geocoding-api.open-meteo.com/v1/search?name="+encodeURIComponent(name)+"&count=1"
  );
  if(!geo || !geo.results) return;

  const g=geo.results[0];
  load(g.latitude,g.longitude,g.name);
}

async function load(lat,lon,name){
  place.textContent=name;

  const w=await getJSON(
    "https://api.open-meteo.com/v1/forecast"
    +"?latitude="+lat
    +"&longitude="+lon
    +"&current_weather=true"
    +"&hourly=temperature_2m,precipitation,windspeed_10m,relative_humidity_2m"
    +"&daily=temperature_2m_max,temperature_2m_min"
    +"&timezone=auto"
  );
  if(!w) return;

  temp.textContent=w.current_weather.temperature+"Â°C";

  conditions.innerHTML=`
    <div class="item">Humidity: ${w.hourly.relative_humidity_2m[0]}%</div>
    <div class="item">Wind: ${w.current_weather.windspeed} km/h</div>
    <div class="item">Precipitation: ${w.hourly.precipitation[0]} mm</div>
    <div class="item">Timezone: ${w.timezone}</div>
  `;

  hourly.innerHTML="";
  for(let i=0;i<24;i++){
    hourly.innerHTML+=`
      <div class="item">
        Hour ${i+1}: ${w.hourly.temperature_2m[i]}Â°C | Wind ${w.hourly.windspeed_10m[i]} km/h | Rain ${w.hourly.precipitation[i]} mm
      </div>`;
  }

  daily.innerHTML="";
  for(let i=0;i<7;i++){
    daily.innerHTML+=`
      <div class="item">
        Day ${i+1}: Min ${w.daily.temperature_2m_min[i]}Â°C / Max ${w.daily.temperature_2m_max[i]}Â°C
      </div>`;
  }

  const aq=await getJSON(
    "https://air-quality-api.open-meteo.com/v1/air-quality"
    +"?latitude="+lat
    +"&longitude="+lon
    +"&hourly=us_aqi,pm2_5,pm10,ozone,carbon_monoxide,nitrogen_dioxide,sulphur_dioxide"
  );

  if(aq){
    aqi.innerHTML=`
      <div class="item">AQI: ${aq.hourly.us_aqi[0]}</div>
      <div class="item">PM2.5: ${aq.hourly.pm2_5[0]} Âµg/mÂ³</div>
      <div class="item">PM10: ${aq.hourly.pm10[0]} Âµg/mÂ³</div>
      <div class="item">Ozone: ${aq.hourly.ozone[0]} Âµg/mÂ³</div>
      <div class="item">CO: ${aq.hourly.carbon_monoxide[0]} Âµg/mÂ³</div>
      <div class="item">NOâ‚‚: ${aq.hourly.nitrogen_dioxide[0]} Âµg/mÂ³</div>
      <div class="item">SOâ‚‚: ${aq.hourly.sulphur_dioxide[0]} Âµg/mÂ³</div>
    `;
  }
}

load(28.61,77.20,"Delhi");
</script>
</body>
</html>
